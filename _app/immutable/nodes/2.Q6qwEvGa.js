import{s as $,n as L,x as ue,r as le,c as U,y as P,o as he,b as ge}from"../chunks/scheduler.v_eg5Njb.js";import{S as W,i as M,e as T,c as x,a as A,d as m,o as b,g as D,n as p,q as G,m as q,l as y,A as X,s as z,f as J,h as I,u as H,v as S,w as B,x as O,t as K,b as Y,z as R,j as oe}from"../chunks/index.WCQngueW.js";import{e as N,L as v,T as se,P as de}from"../chunks/letter.store._11Je3kz.js";function Z(s,e,l){const t=s.slice();return t[1]=e[l],t}function C(s,e,l){const t=s.slice();return t[4]=e[l],t}function ee(s){let e,l;return e=new Le({props:{key:s[4]}}),{c(){H(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p:L,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function te(s){let e,l,t,r=N(s[1]),c=[];for(let o=0;o<r.length;o+=1)c[o]=ee(C(s,r,o));const n=o=>y(c[o],1,1,()=>{c[o]=null});return{c(){e=T("div");for(let o=0;o<c.length;o+=1)c[o].c();l=z(),this.h()},l(o){e=x(o,"DIV",{class:!0});var i=A(e);for(let f=0;f<c.length;f+=1)c[f].l(i);l=J(i),i.forEach(m),this.h()},h(){b(e,"class","flex justify-center gap-2")},m(o,i){D(o,e,i);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null);I(e,l),t=!0},p(o,i){if(i&1){r=N(o[1]);let f;for(f=0;f<r.length;f+=1){const d=C(o,r,f);c[f]?(c[f].p(d,i),p(c[f],1)):(c[f]=ee(d),c[f].c(),p(c[f],1),c[f].m(e,l))}for(G(),f=r.length;f<c.length;f+=1)n(f);q()}},i(o){if(!t){for(let i=0;i<r.length;i+=1)p(c[i]);t=!0}},o(o){c=c.filter(Boolean);for(let i=0;i<c.length;i+=1)y(c[i]);t=!1},d(o){o&&m(e),X(c,o)}}}function me(s){let e,l,t=N(s[0]),r=[];for(let n=0;n<t.length;n+=1)r[n]=te(Z(s,t,n));const c=n=>y(r[n],1,1,()=>{r[n]=null});return{c(){e=T("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=x(n,"DIV",{class:!0});var o=A(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(m),this.h()},h(){b(e,"class","flex flex-col gap-2 my-5")},m(n,o){D(n,e,o);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);l=!0},p(n,[o]){if(o&1){t=N(n[0]);let i;for(i=0;i<t.length;i+=1){const f=Z(n,t,i);r[i]?(r[i].p(f,o),p(r[i],1)):(r[i]=te(f),r[i].c(),p(r[i],1),r[i].m(e,null))}for(G(),i=t.length;i<r.length;i+=1)c(i);q()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)p(r[o]);l=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)y(r[o]);l=!1},d(n){n&&m(e),X(r,n)}}}function pe(s){return[[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]]]}class _e extends W{constructor(e){super(),M(this,e,pe,me,$,{})}}function ie(s){var e,l,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(e=0;e<r;e++)s[e]&&(l=ie(s[e]))&&(t&&(t+=" "),t+=l)}else for(l in s)s[l]&&(t&&(t+=" "),t+=l);return t}function j(){for(var s,e,l=0,t="",r=arguments.length;l<r;l++)(s=arguments[l])&&(e=ie(s))&&(t&&(t+=" "),t+=e);return t}const ye=300,we=4,be="none";function Ee(s){return Array.isArray(s)?s:[s]}function k(s,e,l){return s.addEventListener(e,l),()=>s.removeEventListener(e,l)}function ve(s,e){return e.filter(l=>s.pointerId!==l.pointerId)}function F(s,e,l,t,r){s.dispatchEvent(new CustomEvent(`${e}${r}`,{detail:{event:l,pointersCount:t.length,target:l.target}}))}function Te(s,e,l,t,r,c=be){e.style.touchAction=Ee(c).join(" ");let n=[];function o(f){n.push(f),F(e,s,f,n,"down"),t==null||t(n,f);const d=f.pointerId;function g(h){d===h.pointerId&&(n=ve(h,n),n.length||a(),F(e,s,h,n,"up"),r==null||r(n,h))}function a(){_(),u(),w(),E()}const _=k(e,"pointermove",h=>{n=n.map(V=>h.pointerId===V.pointerId?h:V),F(e,s,h,n,"move"),l==null||l(n,h)}),u=k(e,"lostpointercapture",h=>{g(h)}),w=k(e,"pointerup",h=>{g(h)}),E=k(e,"pointerleave",h=>{n=[],a(),F(e,s,h,n,"up"),r==null||r(n,h)})}const i=k(e,"pointerdown",o);return{destroy:()=>{i()}}}function xe(s,e){const l={composed:!1,timeframe:ye,triggerBeforeFinished:!1,spread:we,touchAction:"auto",...e};s.style.userSelect="none",s.oncontextmenu=E=>{E.preventDefault()};const t="press";let r,c,n;const o={x:0,y:0};let i,f=!1,d=!1;function g(E,h,V){if(Math.abs(E-c)<l.spread&&Math.abs(h-n)<l.spread&&Date.now()-r>l.timeframe){const Q=s.getBoundingClientRect(),fe=Math.round(E-Q.left),ae=Math.round(h-Q.top);d=!0,s.dispatchEvent(new CustomEvent(t,{detail:{x:fe,y:ae,target:V.target,pointerType:V.pointerType}}))}}function a(E,h){clearTimeout(i),f||g(h.clientX,h.clientY,h)}function _(E,h){return o.x=h.clientX,o.y=h.clientY,d}function u(E,h){d=!1,c=h.clientX,n=h.clientY,r=Date.now(),f=!1,o.x=h.clientX,o.y=h.clientY,l.triggerBeforeFinished&&(i=setTimeout(()=>{f=!0,g(o.x,o.y,h)},l.timeframe+1))}const w=Te(t,s,_,u,a,l.touchAction);return l.composed?{onMove:_,onDown:u,onUp:a}:{destroy:()=>{w.destroy(),clearTimeout(i)}}}function Ae(s){let e,l,t,r,c;return{c(){e=T("button"),l=K(s[0]),this.h()},l(n){e=x(n,"BUTTON",{class:!0});var o=A(e);l=Y(o,s[0]),o.forEach(m),this.h()},h(){b(e,"class",t=j("h-14 p-5 text-sm font-bold uppercase rounded",(s[1]||s[2]||s[3])&&"text-white",s[3]&&"bg-slate-800 opacity-40",s[1]&&"bg-green-500",s[2]&&"bg-yellow-500",!s[1]&&!s[2]&&!s[3]&&"bg-slate-200 hocus:bg-slate-300")),e.disabled=s[3]},m(n,o){D(n,e,o),I(e,l),r||(c=[ue(xe.call(null,e,{triggerBeforeFinished:!0})),R(e,"press",s[4]),R(e,"click",s[5])],r=!0)},p(n,[o]){o&1&&oe(l,n[0]),o&14&&t!==(t=j("h-14 p-5 text-sm font-bold uppercase rounded",(n[1]||n[2]||n[3])&&"text-white",n[3]&&"bg-slate-800 opacity-40",n[1]&&"bg-green-500",n[2]&&"bg-yellow-500",!n[1]&&!n[2]&&!n[3]&&"bg-slate-200 hocus:bg-slate-300"))&&b(e,"class",t),o&8&&(e.disabled=n[3])},i:L,o:L,d(n){n&&m(e),r=!1,le(c)}}}function Ie(s,e,l){let t,r;U(s,v,u=>l(6,t=u)),U(s,se,u=>l(7,r=u));let{key:c}=e,n=!1,o=!1,i=!1;v.subscribe(u=>{l(1,n=u.green.includes(c)),l(2,o=u.yellow.some(w=>w.includes(c)))});const f=()=>{c!="ENTER"&&c!="DEL"&&g()},d=()=>{if(de.set({letter:c}),r.type==="green"){P(v,t.green[r.index]=c,t),console.log(t.green);for(let u=0;u<5;u++)P(v,t.yellow[u][r.index]=t.yellow[u][r.index]!==c?t.yellow[u][r.index]:void 0,t)}else r.type==="yellow"&&P(v,t.yellow[r.row][r.index]=c,t)},g=()=>{l(3,i=!i),i?(l(2,o=!1),l(1,n=!1),P(v,t.grey=[...t.grey,c],t),a(),_()):P(v,t.grey=t.grey.filter(u=>u!=c),t)},a=()=>{t.green.map(u=>u===c?void 0:u)},_=()=>{for(let u=0;u<t.yellow.length;u++)P(v,t.yellow[u]=t.yellow[u].map(w=>w===c?void 0:w),t)};return s.$$set=u=>{"key"in u&&l(0,c=u.key)},[c,n,o,i,f,d]}class Le extends W{constructor(e){super(),M(this,e,Ie,Ae,$,{key:0})}}function De(s,e,l){const t=s.slice();return t[0]=e[l],t[2]=l,t}function Ne(s){let e,l;return e=new ce({props:{row:s[2],type:"yellow"}}),{c(){H(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p:L,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pe(s){let e,l,t,r,c,n,o,i;r=new ce({props:{type:"green"}});let f=N({length:5}),d=[];for(let g=0;g<f.length;g+=1)d[g]=Ne(De(s,f,g));return{c(){e=T("div"),l=T("div"),t=K(`KNOWN WITH PLACEMENT
		`),H(r.$$.fragment),c=z(),n=T("div"),o=K(`KNOWN WITHOUT PLACEMENT
		`);for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=x(g,"DIV",{class:!0});var a=A(e);l=x(a,"DIV",{class:!0});var _=A(l);t=Y(_,`KNOWN WITH PLACEMENT
		`),S(r.$$.fragment,_),_.forEach(m),c=J(a),n=x(a,"DIV",{class:!0});var u=A(n);o=Y(u,`KNOWN WITHOUT PLACEMENT
		`);for(let w=0;w<d.length;w+=1)d[w].l(u);u.forEach(m),a.forEach(m),this.h()},h(){b(l,"class","flex flex-col text-sm font-bold text-green-500"),b(n,"class","flex flex-col text-sm font-bold text-yellow-500"),b(e,"class","flex flex-col gap-3")},m(g,a){D(g,e,a),I(e,l),I(l,t),B(r,l,null),I(e,c),I(e,n),I(n,o);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(n,null);i=!0},p:L,i(g){if(!i){p(r.$$.fragment,g);for(let a=0;a<f.length;a+=1)p(d[a]);i=!0}},o(g){y(r.$$.fragment,g),d=d.filter(Boolean);for(let a=0;a<d.length;a+=1)y(d[a]);i=!1},d(g){g&&m(e),O(r),X(d,g)}}}class He extends W{constructor(e){super(),M(this,e,null,Pe,$,{})}}function Se(s){let e,l=(s[2]||"")+"",t,r,c,n;return{c(){e=T("button"),t=K(l),this.h()},l(o){e=x(o,"BUTTON",{class:!0,"data-tile":!0});var i=A(e);t=Y(i,l),i.forEach(m),this.h()},h(){b(e,"class",r=j("text-center h-16 w-16 text-4xl bg-slate-200 rounded-lg border-4",s[0]&&"border-slate-500")),b(e,"data-tile","")},m(o,i){D(o,e,i),I(e,t),s[8](e),c||(n=[R(window,"click",s[3]),R(e,"click",s[4])],c=!0)},p(o,[i]){i&4&&l!==(l=(o[2]||"")+"")&&oe(t,l),i&1&&r!==(r=j("text-center h-16 w-16 text-4xl bg-slate-200 rounded-lg border-4",o[0]&&"border-slate-500"))&&b(e,"class",r)},i:L,o:L,d(o){o&&m(e),s[8](null),c=!1,le(n)}}}function Be(s,e,l){let{index:t}=e,{row:r}=e,{type:c}=e,n=!1,o,i;v.subscribe(a=>{c==="green"?l(2,i=a.green[t]):c==="yellow"&&l(2,i=a.yellow[r][t])});const f=a=>{a.target instanceof HTMLButtonElement&&a.target.hasAttribute("data-tile")&&o.contains(a.target)===!1&&l(0,n=!1)},d=()=>{l(0,n=!0),se.set({index:t,row:r,type:c})};he(()=>{l(0,n=t===0&&r===0&&c==="green")});function g(a){ge[a?"unshift":"push"](()=>{o=a,l(1,o)})}return s.$$set=a=>{"index"in a&&l(5,t=a.index),"row"in a&&l(6,r=a.row),"type"in a&&l(7,c=a.type)},[n,o,i,f,d,t,r,c,g]}class Oe extends W{constructor(e){super(),M(this,e,Be,Se,$,{index:5,row:6,type:7})}}function re(s,e,l){const t=s.slice();return t[2]=e[l],t[4]=l,t}function ne(s){let e,l;return e=new Oe({props:{index:s[4],row:s[0],type:s[1]}}),{c(){H(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,r){const c={};r&1&&(c.row=t[0]),r&2&&(c.type=t[1]),e.$set(c)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function $e(s){let e,l,t=N({length:5}),r=[];for(let n=0;n<t.length;n+=1)r[n]=ne(re(s,t,n));const c=n=>y(r[n],1,1,()=>{r[n]=null});return{c(){e=T("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=x(n,"DIV",{class:!0});var o=A(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(m),this.h()},h(){b(e,"class","flex gap-2 mt-2")},m(n,o){D(n,e,o);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);l=!0},p(n,[o]){if(o&3){t=N({length:5});let i;for(i=0;i<t.length;i+=1){const f=re(n,t,i);r[i]?(r[i].p(f,o),p(r[i],1)):(r[i]=ne(f),r[i].c(),p(r[i],1),r[i].m(e,null))}for(G(),i=t.length;i<r.length;i+=1)c(i);q()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)p(r[o]);l=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)y(r[o]);l=!1},d(n){n&&m(e),X(r,n)}}}function We(s,e,l){let{row:t=0}=e,{type:r}=e;return s.$$set=c=>{"row"in c&&l(0,t=c.row),"type"in c&&l(1,r=c.type)},[t,r]}class ce extends W{constructor(e){super(),M(this,e,We,$e,$,{row:0,type:1})}}function Me(s){let e,l,t,r,c;return l=new He({}),r=new _e({}),{c(){e=T("div"),H(l.$$.fragment),t=z(),H(r.$$.fragment),this.h()},l(n){e=x(n,"DIV",{class:!0});var o=A(e);S(l.$$.fragment,o),o.forEach(m),t=J(n),S(r.$$.fragment,n),this.h()},h(){b(e,"class","flex flex-col grow w-full items-center justify-between py-5")},m(n,o){D(n,e,o),B(l,e,null),D(n,t,o),B(r,n,o),c=!0},p:L,i(n){c||(p(l.$$.fragment,n),p(r.$$.fragment,n),c=!0)},o(n){y(l.$$.fragment,n),y(r.$$.fragment,n),c=!1},d(n){n&&(m(e),m(t)),O(l),O(r,n)}}}class Ke extends W{constructor(e){super(),M(this,e,null,Me,$,{})}}export{Ke as component};
